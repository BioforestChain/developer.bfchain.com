# 共识激励机制



共识激励机制，是对为BFChain网络提供算力、网络、存储、验证及打包等服务的矿工的激励措施，以及为参与BFChain投票治理提供算力、网络及存储的所有地址账户的激励措施。

当前，BFChain共识激励机制中对成功锻造一个区块的激励可分为两个组成部分：

- 授予一定额度的主链权益
- 当前锻造的区块里所有事件产生的上链费

可以获得此激励的对象包括：

- 该区块的锻造者，可获得的激励为该区块总激励的40%；
- 本轮为该锻造者投票的所有地址账户，可获得的激励为该区块总激励的60%。




## 锻造区块获得的总激励

BFChain网络中，每成功锻造一个区块后，底层将计算其应获得的总激励，公式为：

totalReward = rewardPerBlock + sum(eachtransactionfeeOftheBlock)

其中，

- rewardForPerBlock：即为锻造此区块授予的主链权益激励。在BFChain共识里，此激励的权益数量将随着区块高度区间的不同而不同，具体如下：

|     区块高度      | 激励的权益数量(BFT) |
| :---------------: | :-----------------: |
|     0 - 3233      |          0          |
|   3234 - 246375   |         15          |
|  246376 - 492750  |         30          |
|  492751 - 739125  |         60          |
| 739126 - 27635044 |         90          |
|     27635045      |     55.61314071     |
|    27635045 -     |          0          |



- sum(eachtransactionfeeFortheBlock)：其中 `eachtransactionfeeFortheBlock` 为打包进此区块的每笔事件的上链费；`sum(eachtransactionfeeFortheBlock)`即为对打包进此区块的每笔事件的上链费求和。



锻造区块的总激励将被区块锻造者和本轮为该锻造者投票的所有地址账户分享。分享的共识规则为：

- 区块锻造者可分得锻造该区块总激励的4成，即totalReward * 0.4
- 本轮为该锻造者投票的**所有地址账户**共可分得锻造该区块总激励的6成，即totalReward * 0.6；
  - 为该锻造者投票的**每个地址账户**应分得的激励为：totalReward * 0.6 * (该地址账户上一轮投给该锻造者的票数 / 该锻造者在上一轮获得的总票数)

